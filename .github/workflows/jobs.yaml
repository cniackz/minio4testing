name: Workflow

on:
  pull_request:
    branches:
      - main
  push:
    branches:
      - main

jobs:

  minio-4-testing:

    name: MinIO 4 Testing
    runs-on: [ ubuntu-latest ]

    steps:

      - name: Execute MinIO
        run: |
          echo " "
          echo "========================================"
          echo "Download MinIO"
          wget https://dl.min.io/server/minio/release/linux-amd64/minio
          chmod +x minio
          mv minio /usr/local/bin/minio
          minio
          echo " "
          echo "========================================"
          echo "Execute MinIO in a process:"
          mkdir ~/data1
          mkdir ~/data2
          mkdir ~/data3
          mkdir ~/data4
          CI=on MINIO_ROOT_USER=minio MINIO_ROOT_PASSWORD=minio123 minio server ~/data{1...4} --address :9000 --console-address :9001
